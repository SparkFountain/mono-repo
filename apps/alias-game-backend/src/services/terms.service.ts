import { HttpService, Injectable } from '@nestjs/common';
import { Theme } from '@spark-fountain/alias-game';
import { AxiosResponse } from 'axios';

const categories = ['mixed', 'corona', 'winter', 'jazzchor', 'over-18'];  // 'party'

@Injectable()
export class TermsService {
  terms: {
    mixed: string[];
    corona: string[];
    winter: string[];
    jazzchor: string[];
    'over-18': string[];
    party: string[];
  };

  constructor(private httpService: HttpService) {
    this.terms = {
      mixed: [
        'Auto',
        'Hund',
        'Haus',
        'Garten',
        'Ziege',
        'Musik',
        'Restaurant',
        'Abend',
        'Computer',
        'Zahnarzt',
        'Mausefalle',
        'Bank',
        'Leder',
        'Weihnachten',
        'Schwimmbad',
        'Altersheim',
        'Kerze',
        'Globus',
        'Zensur',
        'Nagel',
        'Hurrikan',
        'Draht',
        'Bosheit',
        'Luftschiff',
        'Brief',
        'Münze',
        'Einkaufswagen',
        'Erdbeben',
        'Million',
        'Kuss',
        'Schiedsrichter',
        'Kobra',
        'Szene',
        'Amulett',
        'Zustand',
        'Trennung',
        'Kilometer',
        'Schlange',
        'Kommunist',
        'Sweatshirt',
        'Kapsel',
        'Informant',
        'Krieg',
        'Seele',
        'Zeichnung',
        'Brunnen',
        'Schlacht',
        'Mutation',
        'Priester',
        'Beerdigung',
        'Schlag',
        'Schiene',
        'Stiefel',
        'Geheimnis',
        'Erosion',
        'Poster',
        'Böller',
        'Volleyball',
        'Geist',
        'Moskito',
        'Propaganda',
        'Motor',
        'Bandage',
        'Ferien',
        'Schrotflinte',
        'Bewegung',
        'Orient',
        'Etikett',
        'Kamm',
        'Sonntag',
        'Filter',
        'Radiergummi',
        'Windeln',
        'Donner',
        'Feier',
        'Offenbarung',
        'Kater',
        'Fisch',
        'Haltestelle',
        'Puzzle',
        'Fußball',
        'Freizeitpark',
        'Forum',
        'Fitness',
        'Küche',
        'Berg',
        'Ellbogen',
        'Antenne',
        'Adressat',
        'Zuneigung',
        'Kraft',
        'Sicherheit',
        'Trend',
        'Pistole',
        'Kaiser',
        'Schlaf',
        'Handy',
        'Kosten',
        'Taschengeld',
        'Tod',
        'Reifen',
        'Seilbahn',
        'Chemie',
        'Leinwand',
        'Satellit',
        'Version',
        'Beleidigung',
        'Bus',
        'Spielzeug',
        'Steigung',
        'Passagier',
        'Hauptgewinn',
        'Polizei',
        'Flur',
        'Regierung',
        'Suchmaschine',
        'Kantine',
        'Galgen',
        'Reihe',
        'Tonne',
        'Training',
        'Hochzeit',
        'Schmerz',
        'Ort',
        'Sorge',
        'Union',
        'Absolutismus',
        'Geschenk',
        'Signal',
        'Biologie',
        'Regisseur',
        'Staub',
        'CD',
        'Telefonbuch',
        'Gericht',
        'Laub',
        'Buchstabe',
        'Spielplatz',
        'Keks',
        'Ausgang',
        'Kurve',
        'Winterwald',
        'Sage',
        'Mauer',
        'Spaß',
        'Gewicht',
        'Religion',
        'Nadelbaum',
        'Blitz',
        'Mittagessen',
        'Beförderung',
        'Ausstieg',
        'Flüchtling',
        'Angst',
        'Zeitform',
        'Garage',
        'Koordinaten',
        'Poker',
        'Sohn',
        'Krimi',
        'Immobilie',
        'Sturz',
        'Zauberer',
        'Bonus',
        'Gegenwart',
        'Zukunft',
        'Sender',
        'Taktik',
        'Wäsche',
        'Lautsprecher',
        'Reisepass',
        'Urlaub',
        'Krankheit',
        'Postkarte',
        'Yak',
        'Wahrheit',
        'Steckdose',
        'Camping',
        'Bohne',
        'Tischler',
        'Krippe',
        'Entscheidung',
        'Lüge',
        'Tante',
        'Sehschwäche',
        'Fluss',
        'Stadt',
        'Land',
        'Tennis',
        'Müllabfuhr',
        'Beton',
        'Vertrauen',
        'Software',
        'Kopf',
        'Arbeiter',
        'Eis',
        'Segelschiff',
        'Beweis',
        'Absatz',
        'Zange',
        'Abenteuer',
        'Grenze',
        'Raum',
        'Volumen',
        'Handel',
        'Gebiet',
        'Blau',
        'Grün',
        'Gelb',
        'Rot',
        'Schwarz',
        'Weiß',
        'Himmel',
        'Erde',
        'Phantom',
        'Schalter',
        'Schaukel',
        'Wippe',
        'Kind',
        'Osten',
        'Süden',
        'Westen',
        'Norden',
        'Angel',
        'Hammer',
        'Reißleine',
        'Schornstein',
        'Vakuum',
        'Jetlag',
        'Richtung',
        'Kompass',
        'Oper',
        'Revolution',
        'Gasthaus',
        'Museum',
        'Ski',
        'Forscher',
        'Gravitation',
        'Kultur',
        'Roman',
        'Auferstehung',
        'Alkohol',
        'Tabak',
        'Galaxie',
        'Ereignis',
        'Hochwasser',
        'Lagerfeuer',
        'Moderation',
        'Fernseher',
        'Radio',
        'Internet',
        'Kommunikation',
        'Herde',
        'Kontrolle',
        'Feenstaub',
        'Chronik',
        'Hochschule',
        'Zoo',
        'Yachthafen',
        'Diskothek',
        'Wahnsinn',
        'Sonnenbrille',
        'Koralle',
        'Voodoo',
        'Mission',
        'Grad',
        'Philosophie',
        'Geografie',
        'Liebesbrief',
        'Seifenspender',
        'Kaktus',
        'Hymne',
        'Landkarte',
        'Gegenstand',
        'Experiment',
        'Antrieb',
        'Saison',
        'Flagge',
        'Eishockey',
        'Basketball',
        'Jahrhundert',
        'Iglu',
        'Lachkrampf',
        'Kirche',
        'Sandstrand',
        'Teufel',
        'Waschpulver',
        'Behinderung',
        'Malerei',
        'Osterei',
        'Mannschaft',
        'Belichtung',
        'Diebstahl',
        'Auflauf',
        'Taschentuch',
        'Schreibblock',
        'Müdigkeit',
        'Fragezeichen',
        'Nachfolger',
        'Schokolade',
        'Äquator',
        'Wunsch',
        'Fantasie',
        'Winkel',
        'Schicksal',
        'Holz',
        'Gründung',
        'Ausrede',
        'Vortrag',
        'Abgrund',
        'Blumenstrauß',
        'Flitterwochen',
        'Mitglied',
        'Abkürzung',
        'Kreuz',
        'Spaten',
        'Ebbe',
        'Flut',
        'Zartbitter',
        'Erker',
        'Teenager',
        'Picknick',
        'Frühling',
        'Sommer',
        'Herbst',
        'Winter',
        'Wellness',
        'Mosaik',
        'Xylophon',
        'Unterschied',
        'Inspiration',
        'Anlage',
        'Weinverkostung',
        'Willkür',
        'Rache',
        'Abneigung',
        'Notizbuch',
        'Kinofilm',
        'Wortschatz',
        'Zitat',
        'Lesezeichen',
        'Artikel',
        'Zucker',
        'Wackelpudding',
        'Eisenbahn',
        'Unkraut',
        'Rasenmäher',
        'Surfbrett',
        'Zeugnis',
        'Kinderbett',
        'Vorteil',
        'Kapitän',
        'Therapie',
        'Diät',
        'Erziehung',
        'Friseur',
        'Dachdecker',
        'Tourismus',
        'Landschaft',
        'Mathematik',
        'Steinkohle',
        'Apotheke',
        'Gips',
        'Toilette',
        'Botschaft',
        'Bibel',
        'Antwort',
        'Muskatnuss',
        'Muskeln',
        'Wahrzeichen',
        'Traumschiff',
        'Paradies',
        'Uhrzeit',
        'Schulden',
        'Bahnhof',
        'Flughafen',
        'Tütensuppe',
        'Wärmflasche',
        'Heizung',
        'Stromkasten',
        'Wattenmeer',
        'Bambus',
        'Angebot',
        'Kalender',
        'Geschichte',
        'Spezialität',
        'Palme',
        'Mikrowelle',
        'Besenstiel',
        'Kochtopf',
        'Bratpfanne',
        'Pfannkuchen',
        'Markierung',
        'Triangel',
        'Tambourin',
        'Absperrung',
        'Speisekarte',
        'Melone',
        'Sonnenschirm',
        'Papagei',
      ],
      corona: [
        'Homeoffice',
        'Mundschutz',
        'Ausgangssperre',
        'Sterblichkeit',
        'Quarantäne',
        'Schließung',
        'Infektion',
        'Rettungspaket',
        'Mindestabstand',
        'Ansteckung',
        'Krankheit',
        'Husten',
        'Atemnot',
        'Arzt',
        'Genesung',
        'Ausbreitung',
        'Aerosole',
        'AHA-Formel',
        'Antikörper',
        'Covid-19',
        'FFP3-Maske',
        'Inkubationszeit',
        'Impfstoff',
        'Pandemie',
        'Reproduktionszahl',
        'Risikogebiet',
        'Lockdown',
        'Superspreader',
        'Verdopplungszeit',
        'Sieben-Tage-Inzidenz',
        'Toilettenpapier',
        'Bill Gates',
        'Attila Hildmann',
        'Michael Wendler',
        'Aluhut',
        'Fledermaus',
        'Robert-Koch-Institut',
        'John-Hopkins-Universität',
        'Herdenimmunität',
        'Exponentielles Wachstum',
        'Übertragung',
        'Abstrich',
        'Weltgesundheitsorganisation',
        'Krise',
        'Atemwege',
        'Virus',
        'Dunkelziffer',
        'Infektiosität',
        'Mortalität',
        'Mutation',
        'Nukleinsäure',
        'Lunge',
        'Sauerstoff',
      ],
      winter: [
        'Heizung',
        'Schneemann',
        'Frost',
        'Plätzchen',
        'Glühwein',
        'Kerze',
        'Weihnachtsmann',
        'Advent',
        'Elch',
        'Engel',
        'Schlitten',
        'Winterschlaf',
        'Snowboard',
        'Tannenbaum',
        'Schokolade',
        'Kamin',
        'Wolldecke',
        'Pralinen',
        'Last Christmas',
        'Weihnachtsmarkt',
        'Geschenk',
        'Nikolaus',
        'Lebkuchen',
      ],
      jazzchor: [
        'Intonation',
        'Rhythmus',
        'Groove',
        'Gesang',
        'A-Cappella',
        'Nasal',
        'Popmusik',
        'Jazz',
        'Mehrstimmig',
        'Performance',
        'Bühnenwirkung',
        'Ausstrahlung',
        'Outfit',
        'Rampenlicht',
        'Aquarium',
        'Sopran',
        'Alt',
        'Tenor',
        'Bass',
        'Solist',
        'Harmonie',
        'Akkord',
        'Melodie',
        'Chorleiter',
        'Repertoire',
        'Akustik',
        'Wettbewerb',
        'Kultur',
        'Konzert',
        'Applaus',
        'Generalprobe',
        'Stimme',
        'Note',
        'Lerndatei',
        'Chorfahrt',
      ],
      'over-18': [
        'Loch',
        'Tanga',
        'Hoden',
        'Ejakulation',
        'Abstinenz',
        'Abtreibung',
        'Affäre',
        'After',
        'AIDS',
        'Analverkehr',
        'Fellatio',
        'Aufklärung',
        'Ausfluss',
        'Befriedigung',
        'Beischlaf',
        'BH',
        'Bisexuell',
        'Blowjob',
        'Bordell',
        'Brustwarze',
        'Busen',
        'Callboy',
        'Chlamydien',
        'Cockring',
        'Coming-Out',
        'Cunnilingus',
        'Cybersex',
        'Diaphragma',
        'Dildo',
        'Doktorspiele',
        'Domina',
        'Dreier',
        'Eichel',
        'Eisprung',
        'Ekstase',
        'Empfängnis',
        'Entjungferung',
        'Erektion',
        'Erregung',
        'Eunuch',
        'Exhibitionist',
        'Fellatio',
        'Fetisch',
        'Flirt',
        'Fötus',
        'Freier',
        'Fremdgehen',
        'Fruchtwasser',
        'Fummeln',
        'G-Punkt',
        'Gangbang',
        'Gebärmutter',
        'Geil',
        'Genitalien',
        'Gonorrhö',
        'Gruppensex',
        'Hepatitis',
        'HIV',
        'Hormone',
        'Impotenz',
        'Infertilität',
        'Intimität',
        'Inzest',
        'Jungfernhäutchen',
        'Kamasutra',
        'Kastration',
        'Klitoris',
        'Kondom',
        'Kuss',
        'Leihmutter',
        'Libido',
        'Lovetoys',
        'Lusttropfen',
        'Masturbation',
        'Menopause',
        'Menstruation',
        'Monogamie',
        'Muttermund',
        'Nachspiel',
        'Obszön',
        'One-Night-Stand',
        'Orgie',
        'Periode',
        'Petting',
        'Pille',
        'Porno',
        'Pubertät',
        'Queer',
        'Quickie',
        'Rendezvous',
        'Rotlichtviertel',
        'Schamhaare',
        'Schwangerschaft',
        'Schwul',
        'Sexappeal',
        'Swingerclub',
        'Telefonsex',
        'Urologe',
        'Venushügel',
        'Viagra',
        'Vorhaut',
        'Voyeur',
        'Wechseljahre',
        'Seitensprung',
      ],
      party: ['Cocktail', 'Palmen', 'Bikini', 'Pool', 'Disco', 'Bier', 'Spaß'],
    };
  }

  getTerms(themes: Theme[], amount: number, exclude?: string[]): string[] {
    const useTerms: string[] = [];

    if (themes.find((theme: Theme) => theme.name === 'mixed')) {
      this.terms.mixed.forEach((term: string) => {
        if (exclude.indexOf(term) === -1) {
          useTerms.push(term);
        }
      });
    }

    if (themes.find((theme: Theme) => theme.name === 'corona')) {
      this.terms.corona.forEach((term: string) => {
        if (exclude.indexOf(term) === -1) {
          useTerms.push(term);
        }
      });
    }

    return [];
  }

  getRandomTerms(amount: number): Promise<string[]> {
    return this.httpService
      .get(`https://alex-riedel.de/randV2.php?anz=${amount}`)
      .toPromise()
      .then((response: AxiosResponse<string[]>) => {
        return response.data;
      });
  }
}
